<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pannaud'Graphie</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom Fonts (Inter & SF Pro Display simulation) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
                    },
                    colors: {
                        'apple-gray': '#F5F5F7',
                        'apple-text': '#1D1D1F',
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-apple-gray text-apple-text font-sans antialiased overflow-hidden h-[100dvh] w-screen select-none">

    <!-- App Container -->
    <div id="app"
        class="relative w-full h-full max-w-md mx-auto bg-white sm:shadow-2xl sm:rounded-[3rem] overflow-hidden flex flex-col">

        <!-- HOME SCREEN -->
        <div id="screen-home" class="screen flex flex-col justify-between items-center p-8 h-full fade-in">
            <div class="mt-12 text-center w-full flex justify-center">
                <img src="logo.png" alt="Pannaud'Graphie" class="logo-retina">
            </div>

            <div class="w-full">
                <h2 class="text-xs uppercase tracking-widest text-gray-400 font-semibold mb-4 text-center">Meilleurs
                    Scores</h2>
                <div id="leaderboard-list" class="bg-gray-50 rounded-2xl p-4 space-y-3 min-h-[160px]">
                    <!-- Leaderboard items will be injected here -->
                    <p class="text-center text-gray-400 text-sm italic">Aucune partie jou√©e</p>
                </div>
            </div>

            <button id="btn-start"
                class="w-full bg-black text-white py-4 rounded-3xl font-semibold text-lg shadow-lg active:scale-95 transition-transform duration-200">
                Commencer l'aventure
            </button>
        </div>

        <!-- GAME SCREEN -->
        <div id="screen-game" class="screen hidden flex-col h-full bg-apple-gray">
            <!-- Header -->
            <header
                class="px-6 py-4 flex justify-between items-center bg-white/80 backdrop-blur-md sticky top-0 z-10 shrink-0">
                <div class="flex flex-col">
                    <span class="text-xs text-gray-500 font-semibold uppercase tracking-wider">Tour</span>
                    <span id="turn-indicator" class="text-xl font-bold">1 / 6</span>
                </div>
                <div class="flex flex-col items-end">
                    <span class="text-xs text-gray-500 font-semibold uppercase tracking-wider">Score</span>
                    <span id="score-indicator" class="text-xl font-bold text-blue-600">0</span>
                </div>
            </header>

            <!-- Main Content (Country) -->
            <main class="flex-1 flex flex-col items-center justify-center p-6 text-center animate-slide-up relative">

                <!-- Philippines Special Badge -->
                <div id="philippines-badge"
                    class="absolute top-14 left-0 w-full hidden animate-bounce z-20 pointer-events-none">
                    <span
                        class="inline-block bg-gradient-to-r from-blue-600 via-red-600 to-yellow-500 text-white px-6 py-2 rounded-full font-bold shadow-lg text-sm tracking-widest uppercase transform -rotate-2">
                        Mabuhay !
                    </span>
                </div>

                <div class="text-[100px] sm:text-[120px] leading-none mb-4 sm:mb-6 drop-shadow-2xl transform transition-transform duration-500 hover:scale-110"
                    id="country-flag">
                    üáµüá≠
                </div>
                <h2 id="country-name" class="text-3xl font-bold tracking-tight mb-2">Philippines</h2>
                <p class="text-gray-400 text-sm font-medium">Choisissez une cat√©gorie strat√©gique</p>
            </main>

            <!-- Feedback Overlay (Absolute) -->
            <div id="feedback-overlay"
                class="absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 transition-opacity duration-300 z-50">
                <div class="bg-black/70 backdrop-blur-xl text-white px-8 py-4 rounded-3xl shadow-2xl transform scale-90 transition-transform duration-300"
                    id="feedback-content">
                    <div class="text-center">
                        <span id="feedback-rank" class="block text-4xl font-bold text-yellow-400">#1</span>
                        <span id="feedback-text" class="text-sm font-medium uppercase tracking-wide">Excellent</span>
                    </div>
                </div>
            </div>

            <!-- Footer (Categories) -->
            <footer
                class="p-4 bg-white rounded-t-[3rem] shadow-[0_-10px_40px_rgba(0,0,0,0.05)] h-[45%] flex flex-col justify-center">
                <div id="categories-grid" class="grid grid-cols-2 gap-4 h-full">
                    <!-- Buttons will be injected here -->
                </div>
            </footer>
        </div>

        <!-- RESULTS SCREEN -->
        <div id="screen-result" class="screen hidden flex-col justify-between items-center p-8 h-full bg-white">
            <div class="mt-10 text-center w-full flex flex-col items-center">
                <img src="logo.png" alt="Pannaud'Graphie" class="logo-retina mb-6">

                <div class="inline-block bg-gray-100 p-4 rounded-full text-5xl mb-6 shadow-inner">
                    üèÅ
                </div>
                <h2 class="text-3xl font-bold mb-2">Partie Termin√©e</h2>

                <div class="my-8">
                    <span class="text-gray-400 text-sm uppercase tracking-widest font-semibold">Score Final</span>
                    <div id="final-score"
                        class="text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-tr from-blue-600 to-purple-600 mt-2">
                        142
                    </div>
                </div>

                <div id="result-message"
                    class="bg-blue-50 text-blue-800 p-4 rounded-2xl text-sm font-medium leading-relaxed">
                    "Pas mal, mais tu peux faire mieux !"
                </div>
            </div>

            <div class="w-full space-y-3 mb-4">
                <button id="btn-replay"
                    class="w-full bg-black text-white py-4 rounded-3xl font-semibold text-lg shadow-lg active:scale-95 transition-transform duration-200">
                    Rejouer
                </button>
            </div>
        </div>

    </div>

    <!-- Data -->
    <script src="countries.js"></script>
    <!-- Game Logic -->
    <script src="script.js"></script>
</body>

</html>